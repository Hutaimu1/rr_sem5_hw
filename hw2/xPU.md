## xPU:云计算加速芯片

### 背景
ABC:AI(人工智能)、Big Data(大数据)和Cloud Computing(云计算)

相较于阿里、腾讯较早涉足云计算市场，百度在这个领域上一直没有怎么涉足

百度的高层再三强调了公司的定位：百度是一家AI公司。

过去几年，百度在深度学习领域，尤其是基于GPU的深度学习领域取得了不错的进展。

### 发布
2017年，在加州Hot Chips大会上，百度发布了XPU，这是一款256核、基于FPGA的云计算加速芯片，合作伙伴是赛思灵(Xilinx)。

### 设计理念
#### 1. CPU(中央处理器):
包括运算器（ALU, Arithmetic and Logic Unit）、控制单元（CU, Control Unit）、寄存器（Register）、高速缓存器（Cache）和它们之间通讯的数据、控制及状态的总线。

指令在CPU中执行的过程是这样的：读取到指令后，通过指令总线送到控制器（黄色区域）中进行译码，并发出相应的操作控制信号；然后运算器（绿色区域）按照操作指令对数据进行计算，并通过数据总线将得到的数据存入数据缓存器（大块橙色区域）。如下图所示：


![图片1](https://github.com/Hutaimu1/images/blob/master/cpu.png?raw=true)

因为CPU的架构中需要大量的空间去放置存储单元（橙色部分）和控制单元（黄色部分），相比之下计算单元（绿色部分）只占据了很小的一部分，所以它在大规模并行计算能力上极受限制，而更擅长于逻辑控制。

总结：CPU擅长通用计算任务，尤其是基于规则的计算任务，同时非常灵活。

#### 2.GPU(图形处理器)

瞄准并行计算，用多个处理器来共同求解同一问题，即将被求解的问题分解成若干个部分，各部分均由一个独立的处理机来并行计算

![图片2](https://github.com/Hutaimu1/images/blob/master/GPU.png?raw=true)

从架构图我们就能很明显的看出，GPU的构成相对简单，有数量众多的计算单元和超长的流水线，特别适合处理大量的类型统一的数据。

#### 3.xPU(AI云加速芯片)
XPU则关注计算密集型、基于规则的多样化计算任务，希望提高效率和性能，并带来类似CPU的灵活性。

### 优缺点
* 优点：基于FPGA,在性能和效率之间实现平衡，并处理多样化的计算任务。FPGA加速器本身很擅长处理某些计算任务，但随着许多小内核交织在一起，多样性程度将会上升。
为了支持矩阵、卷积，以及其他大大小小的内核，我们需要一个配备高带宽低延时内存，以及高带宽I/O接口的大型数学阵列。FPGA中XPU的DSP单元提供了并行处理能力，片外DDR4和HBM接口优化了数据传输，而片上SRAM则提供了必要的存储特性。

* 缺点：FPGA是高效的，可以专注于特定计算任务，但缺乏可编程能力。目前XPU有所欠缺的仍是可编程能力，而这也是涉及FPGA时普遍存在的问题。到目前为止，XPU尚未提供编译器。



### 我的观点
&ensp;&ensp;&ensp;&ensp;由于xPU是近一年来的新技术，我能找到的资料很少很少。不过就我个人来看，与传统的CPU和GPU这种通用的芯片相比，xPU这种专门为云计算设计的芯片无疑是大大提高了云计算的效率，但是由于这种芯片技术刚刚起步，仍然有许多值得提高的地方，比方说之前提到的可编程能力。总之，从CPU到GPU再到xPU，表明计算机硬件方面在不断发展，去适应日新月异的软件和新概念等，更好地服务于这个社会。
